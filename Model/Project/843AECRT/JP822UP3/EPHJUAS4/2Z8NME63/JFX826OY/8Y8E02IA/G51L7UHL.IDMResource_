<?xml version="1.0" encoding="utf-8"?>
<com.novell.designer.model:CObject xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:com.novell.designer.model="http://com.novell.designer.model" name="NOVLJDBCPGBS-InitSettingsPrompts">
  <attributes xsi:type="com.novell.designer.model:CHeavyData" attrName="contents"/>
  <attributes xsi:type="com.novell.designer.model:CString" attrName="DirXML-ContentType" value="application/vnd.novell.dirxml.pkg-prompt+xml"/>
  <attributes xsi:type="com.novell.designer.model:CString" attrName="IdmParameter:initialSettingsPrompt" value="true"/>
  <attributes xsi:type="com.novell.designer.model:CInteger" attrName="Idm:PkgPromptType" value="2"/>
  <attributes xsi:type="com.novell.designer.model:CString" attrName="Idm:InstallationDirective" value="&lt;installation-directive>&#xA;&#x9;&lt;placement location=&quot;&quot; order=&quot;20&quot;/>&#xA;&#x9;&lt;ds-attributes/>&#xA;&#x9;&lt;package-item-targets>&#xA;&#x9;&#x9;&lt;package-item package-id=&quot;8UMZJFVS_201109091540440796&quot; pkg-assoc-id=&quot;&quot;/>&#xA;&#x9;&lt;/package-item-targets>&#xA;&#x9;&lt;prompt-stylesheet>&#xA;&#x9;&#x9;&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;>&#xA;&#x9;&#x9;&#x9;&lt;!--&#xA;&#x9;Initial Settings - Prompt Style Sheet&#xA;&#x9;=====================================&#xA;&#x9;&#xA;&#x9;This style sheet handles initial settings prompts. It pre-populates the&#xA;&#x9;fields with existing values.&#xA;&#x9;&#xA;&#x9;The prompt style sheet is applied to the XML representation of the prompts&#xA;&#x9;(GCV's) for this prompt resource before the prompts are displayed for&#xA;&#x9;input.&#xA;&#x9;&#xA;&#x9;Updated: 20100714 &#xA;&#x9;-->&#xA;&#x9;&#x9;&#x9;&lt;!--&#xA;&#x9;defsDoc&#xA;&#x9;=======&#xA;&#x9;XML document containing the prompts (configuration value definitions)&#xA;&#x9;including their values that were entered for this prompt page.&#xA;&#x9;&#xA;&#x9;Sample document:&#xA;&#x9;&lt;configuration-values>&#xA;&#x9;&#x9;&lt;definitions>&#xA;&#x9;&#x9;&#x9;&lt;header display-name=&quot;Authentication&quot;/>&#xA;&#x9;&#x9;&#x9;&lt;definition display-name=&quot;SAP User ID&quot; mandatory=&quot;true&quot; name=&quot;shim-auth-id&quot; type=&quot;string&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;description>The ID of the User this driver will use for SAP Logon.  This is referred to as 'User' in the SAP Logon screen.&lt;/description>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;value>idmdriver&lt;/value>&#xA;&#x9;&#x9;&#x9;&lt;/definition>&#xA;&#x9;&#x9;&#x9;&lt;definition display-name=&quot;SAP User Password&quot; mandatory=&quot;true&quot; name=&quot;shim-auth-password&quot; type=&quot;password-ref&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;description>The User password this driver will use for SAP Logon.  This is referred to as 'Password' in the SAP Logon screen.&lt;/description>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;value>shim-auth-password&lt;/value>&#xA;&#x9;&#x9;&#x9;&lt;/definition>&#xA;&#x9;&#x9;&lt;/definitions>&#xA;&#x9;&lt;/configuration-values>&#xA;&#x9;-->&#xA;&#x9;&#x9;&#x9;&lt;xsl:param name=&quot;defsDoc&quot;/>&#xA;&#x9;&#x9;&#x9;&lt;!--&#xA;&#x9;curDoc&#xA;&#x9;======&#xA;&#x9;In the case of an upgrade or downgrade, this parameter contains the XML&#xA;&#x9;content of the currently installed prompt target.&#xA;&#x9;&#xA;&#x9;Sample document (only an excerpt, these docs are rather large):&#xA;&#x9;&lt;ds-attributes>&#xA;&#x9;&#x9;&lt;ds-attribute ds-attr-name=&quot;shim-auth-id&quot;>&#xA;&#x9;&#x9;&#x9;&lt;ds-value>idmdriver&lt;/ds-value>&#xA;&#x9;&#x9;&lt;/ds-attribute>&#xA;&#x9;&#x9;&lt;ds-attribute ds-attr-name=&quot;shim-auth-server&quot;>&#xA;&#x9;&#x9;&#x9;&lt;ds-value>127.0.0.1&lt;/ds-value>&#xA;&#x9;&#x9;&lt;/ds-attribute>&#xA;&#x9;&#x9;&lt;ds-attribute ds-attr-name=&quot;driver-start-option&quot;>&#xA;&#x9;&#x9;&#x9;&lt;ds-value>2&lt;/ds-value>&#xA;&#x9;&#x9;&lt;/ds-attribute>&#xA;&#x9;&lt;/ds-attributes>&#xA;&#x9;-->&#xA;&#x9;&#x9;&#x9;&lt;xsl:param name=&quot;curDoc&quot;/>&#xA;&#x9;&#x9;&#x9;&lt;!--&#xA;&#x9;npDoc&#xA;&#x9;=====&#xA;&#x9;In the case of an upgrade or downgrade, this parameter contains an XML&#xA;&#x9;representation of all named password available on the prompt target.&#xA;&#x9;&#xA;&#x9;Note:&#xA;&#x9;Only the names of existing passwords are available, not their values. If a&#xA;&#x9;named password has been set through a prompt, both its&#x9;name and value are&#xA;&#x9;available.&#xA;&#x9;&#xA;&#x9;Note2:&#xA;&#x9;To set a named password, append the following structure to the target&#xA;&#x9;(target must support named passwords):&#xA;&#x9;&lt;ds-attribute ds-attr-name=&quot;named-password&quot;>&#xA;&#x9;&#x9;&lt;ds-value display-name=&quot;Password 1&quot; name=&quot;pwd1&quot;>1&lt;/ds-value>&#xA;&#x9;&#x9;&lt;ds-value display-name=&quot;Password 2&quot; name=&quot;pwd2&quot;>2&lt;/ds-value>&#xA;&#x9;&lt;/ds-attribute>&#xA;&#x9;&#xA;&#x9;Sample document:&#xA;&#x9;&lt;named-passwords>&#xA;&#x9;&#x9;&lt;named-password name=&quot;promptedPwd&quot;>promptedValue&lt;/named-password>&#xA;&#x9;&#x9;&lt;named-password name=&quot;existingPwd&quot;/>&#xA;&#x9;&lt;/named-passwords>&#xA;&#x9;-->&#xA;&#x9;&#x9;&#x9;&lt;xsl:param name=&quot;npDoc&quot;/>&#xA;&#x9;&#x9;&#x9;&lt;!-- &#xA;&#x9;propertyWizard&#xA;&#x9;==============&#xA;&#x9;Flag (true or false) indicating if the installation is from the package&#xA;&#x9;installation wizard (PIW, launched from the &quot;Packages&quot; property page) or&#xA;&#x9;from the driver configuration wizard (DCW, launched by installing a new&#xA;&#x9;driver). This flag can be useful to show or hide prompts or to set or not&#xA;&#x9;set values based on which wizard is being run.&#xA;&#x9;&#xA;&#x9;E.g. the driver name should only be prompted for in the DCW, not in the&#xA;&#x9;PIW where the driver already exists.&#xA;&#x9;&#xA;&#x9;Possible values:&#xA;&#x9;'true' -> PIW&#xA;&#x9;'false' -> DCW&#xA;&#x9;-->&#xA;&#x9;&#x9;&#x9;&lt;xsl:param name=&quot;propertyWizard&quot;/>&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;header[@driver-name='true']&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:if test=&quot;$propertyWizard='false'&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:apply-templates select=&quot;@*|node()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:if>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;definition[@driver-name='true']&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:if test=&quot;$propertyWizard='false'&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:apply-templates select=&quot;@*|node()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:if>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;definition[@name='className']&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;definition display-name=&quot;JDBC implementation:&quot; name=&quot;pgclassName&quot; type=&quot;enum&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;description>Select the third-party JDBC implementation.&lt;/description>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;enum-choice display-name=&quot;PostgreSQL JDBC Driver (filename: postgresql-&amp;lt;db-ver>.&amp;lt;jdbc-drv-ver>.jdbc&amp;lt;jdbc-ver>.jar)&quot;>org.postgresql.Driver&lt;/enum-choice>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;enum-choice display-name=&quot;Some Other JDBC Implementation&quot;>_custom&lt;/enum-choice>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;value>org.postgresql.Driver&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;$curDoc//ds-value[../@ds-attr-name='className']/text()&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$curDoc//ds-value[../@ds-attr-name='className']/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$curDoc//value[../@name='className']/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/value>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/definition>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;definition[@name='jdbc.Host']&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;definition display-name=&quot;PostgreSQL host IP address: *&quot; name=&quot;jdbc.Host&quot; type=&quot;string&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;description>Specify the IP Address of the PostgreSQL database host.  [IP Address; ###.###.###.###]&lt;/description>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;host&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;$curDoc//ds-value[../@ds-attr-name='shim-auth-server']/text()&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$curDoc//ds-value[../@ds-attr-name='shim-auth-server']/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:variable>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;$host&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;substring-before(substring-after($host, '//'),':')&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;'127.0.0.1'&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/value>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/definition>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;definition[@name='jdbc.Port']&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;definition display-name=&quot;PostgreSQL Port: *&quot; name=&quot;jdbc.Port&quot; type=&quot;string&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;description>Specify the port number.&lt;/description>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;port&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;$curDoc//ds-value[../@ds-attr-name='shim-auth-server']/text()&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$curDoc//ds-value[../@ds-attr-name='shim-auth-server']/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:variable>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;$port&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;substring-after(substring-before(substring-after($port, '//'),'/'),':')&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;'5432'&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/value>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/definition>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;definition[@name='jdbc.DBName']&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;definition display-name=&quot;PostgreSQL Database Name: *&quot; name=&quot;jdbc.DBName&quot; type=&quot;string&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;description>Specify the connected database name.&lt;/description>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;database&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;$curDoc//ds-value[../@ds-attr-name='shim-auth-server']/text()&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$curDoc//ds-value[../@ds-attr-name='shim-auth-server']/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:variable>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;$database&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;substring-after(substring-after($database, '//'),'/')&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;'idm'&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/value>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/definition>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;definition[@name='jdbc.URL']&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;definition display-name=&quot;JDBC URL: *&quot; name=&quot;jdbc.URL&quot; type=&quot;string&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;description>The JDBC URL of the target database.  This value is analogous to this driver's Authentication context parameter value.  Consult your third-party JDBC driver documentation for the correct URL format.&lt;/description>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;$curDoc//ds-value[../@ds-attr-name='shim-auth-server']/text()&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$curDoc//ds-value[../@ds-attr-name='shim-auth-server']/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;'jdbc:&amp;lt;vendor>://&amp;lt;ip address>:&amp;lt;port>/&amp;lt;database>'&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/value>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/definition>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;definition[@name='jdbc.ClassName']&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;definition display-name=&quot;Third-party JDBC driver class name: *&quot; name=&quot;jdbc.ClassName&quot; type=&quot;string&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;description>Specify the class name of your third-party JDBC driver.  Verify that the jar or zip file containing this class is version compatible with the target database.&lt;/description>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;$curDoc//ds-value[../@ds-attr-name='driver.class.jdbc']/text()&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$curDoc//ds-value[../@ds-attr-name='driver.class.jdbc']/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$curDoc//value[../@name='driver.class.jdbc']/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/value>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/definition>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;!-- pre-populate prompts with existing values -->&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;definition/value&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;name&quot; select=&quot;../@name&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;curVal&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;$curDoc//ds-value[../@ds-attr-name=$name]/text()&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$curDoc//ds-value[../@ds-attr-name=$name]/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$curDoc//value[../@name=$name]/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:variable>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- backfilling from current value -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;$curVal&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;checkRemote&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;$name='shim-auth-server' or $name='shim-auth-password'&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;'true'&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;'false'&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:variable>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;$checkRemote='true' and starts-with($curVal, 'REMOTE')&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;substring-after($curVal, ')')&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$curVal&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- no current value found -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:apply-templates select=&quot;@*|node()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;!-- identity transformation template -->&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;node()|@*&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:apply-templates select=&quot;@*|node()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&lt;/xsl:stylesheet>&#xA;&#x9;&lt;/prompt-stylesheet>&#xA;&#x9;&lt;target-stylesheet>&#xA;&#x9;&#x9;&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;>&#xA;&#x9;&#x9;&#x9;&lt;!--&#xA;&#x9;Initial Settings - Target Style Sheet&#xA;&#x9;=====================================&#xA;&#x9;&#xA;&#x9;This style sheet applies prompt values to the initial settings and global&#xA;&#x9;configuration objects of a packge. It especially deals with the driver&#xA;&#x9;authentication fields (shim-auth-id, shim-auth-password, shim-auth-server)&#xA;&#x9;and shim parameters.&#xA;&#x9;This style sheet also works in combination with the remote loader style&#xA;&#x9;sheets to correctly overload the shim-auth-server and the &#xA;&#x9;shim-auth-password with the remote loader parameters and password.&#xA;&#x9;&#xA;&#x9;The target style sheet is applied to the XML representation of each target&#xA;&#x9;of its prompt resource before the package is being installed, thus&#xA;&#x9;changing what's being installed.&#xA;&#x9;&#xA;&#x9;Updated: 20100730 &#xA;&#x9;-->&#xA;&#x9;&#x9;&#x9;&lt;!--&#xA;&#x9;defsDoc&#xA;&#x9;=======&#xA;&#x9;XML document containing the prompts (configuration value definitions)&#xA;&#x9;including their values that were entered for this prompt page.&#xA;&#x9;&#xA;&#x9;Sample document:&#xA;&#x9;&lt;configuration-values>&#xA;&#x9;&#x9;&lt;definitions>&#xA;&#x9;&#x9;&#x9;&lt;header display-name=&quot;Authentication&quot;/>&#xA;&#x9;&#x9;&#x9;&lt;definition display-name=&quot;SAP User ID&quot; mandatory=&quot;true&quot; name=&quot;shim-auth-id&quot; type=&quot;string&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;description>The ID of the User this driver will use for SAP Logon.  This is referred to as 'User' in the SAP Logon screen.&lt;/description>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;value>idmdriver&lt;/value>&#xA;&#x9;&#x9;&#x9;&lt;/definition>&#xA;&#x9;&#x9;&#x9;&lt;definition display-name=&quot;SAP User Password&quot; mandatory=&quot;true&quot; name=&quot;shim-auth-password&quot; type=&quot;password-ref&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;description>The User password this driver will use for SAP Logon.  This is referred to as 'Password' in the SAP Logon screen.&lt;/description>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;value>shim-auth-password&lt;/value>&#xA;&#x9;&#x9;&#x9;&lt;/definition>&#xA;&#x9;&#x9;&lt;/definitions>&#xA;&#x9;&lt;/configuration-values>&#xA;&#x9;-->&#xA;&#x9;&#x9;&#x9;&lt;xsl:param name=&quot;defsDoc&quot;/>&#xA;&#x9;&#x9;&#x9;&lt;!--&#xA;&#x9;curDoc&#xA;&#x9;======&#xA;&#x9;In the case of an upgrade or downgrade, this parameter contains the XML&#xA;&#x9;content of the currently installed prompt target.&#xA;&#x9;&#xA;&#x9;Sample document (only an excerpt, these docs are rather large):&#xA;&#x9;&lt;ds-attributes>&#xA;&#x9;&#x9;&lt;ds-attribute ds-attr-name=&quot;shim-auth-id&quot;>&#xA;&#x9;&#x9;&#x9;&lt;ds-value>idmdriver&lt;/ds-value>&#xA;&#x9;&#x9;&lt;/ds-attribute>&#xA;&#x9;&#x9;&lt;ds-attribute ds-attr-name=&quot;shim-auth-server&quot;>&#xA;&#x9;&#x9;&#x9;&lt;ds-value>127.0.0.1&lt;/ds-value>&#xA;&#x9;&#x9;&lt;/ds-attribute>&#xA;&#x9;&#x9;&lt;ds-attribute ds-attr-name=&quot;driver-start-option&quot;>&#xA;&#x9;&#x9;&#x9;&lt;ds-value>2&lt;/ds-value>&#xA;&#x9;&#x9;&lt;/ds-attribute>&#xA;&#x9;&lt;/ds-attributes>&#xA;&#x9;-->&#xA;&#x9;&#x9;&#x9;&lt;xsl:param name=&quot;curDoc&quot;/>&#xA;&#x9;&#x9;&#x9;&lt;!--&#xA;&#x9;npDoc&#xA;&#x9;=====&#xA;&#x9;In the case of an upgrade or downgrade, this parameter contains an XML&#xA;&#x9;representation of all named password available on the prompt target.&#xA;&#x9;&#xA;&#x9;Note:&#xA;&#x9;Only the names of existing passwords are available, not their values. If a&#xA;&#x9;named password has been set through a prompt, both its&#x9;name and value are&#xA;&#x9;available.&#xA;&#x9;&#xA;&#x9;Note2:&#xA;&#x9;To set a named password, append the following structure to the target&#xA;&#x9;(target must support named passwords):&#xA;&#x9;&lt;ds-attribute ds-attr-name=&quot;named-password&quot;>&#xA;&#x9;&#x9;&lt;ds-value display-name=&quot;Password 1&quot; name=&quot;pwd1&quot;>1&lt;/ds-value>&#xA;&#x9;&#x9;&lt;ds-value display-name=&quot;Password 2&quot; name=&quot;pwd2&quot;>2&lt;/ds-value>&#xA;&#x9;&lt;/ds-attribute>&#xA;&#x9;&#xA;&#x9;Sample document:&#xA;&#x9;&lt;named-passwords>&#xA;&#x9;&#x9;&lt;named-password name=&quot;promptedPwd&quot;>promptedValue&lt;/named-password>&#xA;&#x9;&#x9;&lt;named-password name=&quot;existingPwd&quot;/>&#xA;&#x9;&lt;/named-passwords>&#xA;&#x9;-->&#xA;&#x9;&#x9;&#x9;&lt;xsl:param name=&quot;npDoc&quot;/>&#xA;&#x9;&#x9;&#x9;&lt;!-- &#xA;&#x9;propertyWizard&#xA;&#x9;==============&#xA;&#x9;Flag (true or false) indicating if the installation is from the package&#xA;&#x9;installation wizard (PIW, launched from the &quot;Packages&quot; property page) or&#xA;&#x9;from the driver configuration wizard (DCW, launched by installing a new&#xA;&#x9;driver). This flag can be useful to show or hide prompts or to set or not&#xA;&#x9;set values based on which wizard is being run.&#xA;&#x9;&#xA;&#x9;E.g. the driver name should only be prompted for in the DCW, not in the&#xA;&#x9;PIW where the driver already exists.&#xA;&#x9;&#xA;&#x9;Possible values:&#xA;&#x9;'true' -> PIW&#xA;&#x9;'false' -> DCW&#xA;&#x9;-->&#xA;&#x9;&#x9;&#x9;&lt;xsl:param name=&quot;propertyWizard&quot;/>&#xA;&#x9;&#x9;&#x9;&lt;!-- Update existing shim auth password if updates are available -->&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;ds-attribute[@ds-attr-name='shim-auth-password']/ds-value&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;!-- updates available? -->&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:if test=&quot;string-length($npDoc//named-passwords/named-password[@name='shim-auth-password'])>0&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$npDoc//named-passwords/named-password[@name='shim-auth-password']/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:if>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;ds-attributes&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- preserve all initial settings -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:apply-templates select=&quot;@*|node()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- Add new shim auth password if one is needed and doesn't already exist -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:if test=&quot;count(ds-attribute[@ds-attr-name='shim-auth-password'])=0 and string-length($npDoc//named-passwords/named-password[@name='shim-auth-password']/text())>0&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;ds-attribute ds-attr-name=&quot;shim-auth-password&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;ds-value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$npDoc//named-passwords/named-password[@name='shim-auth-password']/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/ds-value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/ds-attribute>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:if>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- Add a shim auth id attribute node if one does not exist -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;ds-attribute[@ds-attr-name='shim-auth-id']/ds-value&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!--  Do nothing -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- Make sure we always have a shim-auth-id -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;promptVal&quot; select=&quot;$defsDoc//value[../@name='shim-auth-id']&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;ds-attribute ds-attr-name=&quot;shim-auth-id&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;ds-value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$promptVal/node()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/ds-value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/ds-attribute>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- Add a shim auth server attribute node if one does not exist -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;ds-attribute[@ds-attr-name='shim-auth-server']/ds-value&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!--  Do nothing -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- Make sure we always have a shim-auth-server -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;promptVal&quot; select=&quot;$defsDoc//value[../@name='shim-auth-server']&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;ds-attribute ds-attr-name=&quot;shim-auth-server&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;ds-value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$promptVal/node()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/ds-value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/ds-attribute>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- Add a name attribute node if one does not exist -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;ds-attribute[@ds-attr-name='name']/ds-value&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!--  Do nothing -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- Make sure we always have a name -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;promptVal&quot; select=&quot;$defsDoc//value[../@name='name']&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;ds-attribute ds-attr-name=&quot;name&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;ds-value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$promptVal/node()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/ds-value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/ds-attribute>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;ds-attribute[@ds-attr-name='named-password']&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:apply-templates select=&quot;@*&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:for-each select=&quot;ds-value&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:apply-templates select=&quot;@*&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;npName&quot; select=&quot;@name&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- inject prompt value -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;count($npDoc//named-passwords/named-password[@name=$npName])>0&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$npDoc//named-passwords/named-password[@name=$npName]/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- no prompt value for this password found -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:apply-templates select=&quot;node()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:for-each>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;!-- inject prompt values into target ds-attributes -->&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;ds-attribute/ds-value&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;dsAttrName&quot; select=&quot;../@ds-attr-name&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;promptVal&quot; select=&quot;$defsDoc//value[../@name=$dsAttrName]&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;defType&quot; select=&quot;$defsDoc//definition[@name=$dsAttrName]/@type&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;$defType='password-ref'&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- The prompt type is a password. Pull the value from the password doc -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;string-length($npDoc//named-passwords/named-password[@name=$promptVal])>0&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$npDoc//named-passwords/named-password[@name=$promptVal]/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$promptVal/node()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- inject prompt value -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;$promptVal&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$promptVal/node()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- no prompt value found -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:apply-templates select=&quot;@*|node()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;!-- inject prompt values into target definitions -->&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;definition/value&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;name&quot; select=&quot;../@name&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;promptVal&quot; select=&quot;$defsDoc//value[../@name=$name]&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- inject value from prompt -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;$promptVal&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy-of select=&quot;$promptVal&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- no current value found -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:apply-templates select=&quot;@*|node()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;ds-attribute[@ds-attr-name='shim-auth-server']/ds-value&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;$defsDoc//value[../@name='pgclassName'] = '_custom'&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;jdbc.url&quot; select=&quot;$defsDoc//value[../@name='jdbc.URL']&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$jdbc.url&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;hostname&quot; select=&quot;$defsDoc//value[../@name='jdbc.Host']&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;port&quot; select=&quot;$defsDoc//value[../@name='jdbc.Port']&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;dbname&quot; select=&quot;$defsDoc//value[../@name='jdbc.DBName']&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;'jdbc:postgresql://'&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$hostname&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;':'&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$port&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;'/'&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$dbname&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;definition[@name='driver.class.jdbc']/value&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;promptCN&quot; select=&quot;$defsDoc//value[../@name='pgclassName']&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;promptClass&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;$promptCN/text()='org.postgresql.Driver'&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$promptCN&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$defsDoc//value[../@name='jdbc.ClassName']&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:variable>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$promptClass&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;!-- identity transformation template -->&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;node()|@*&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:apply-templates select=&quot;@*|node()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&lt;/xsl:stylesheet>&#xA;&#x9;&lt;/target-stylesheet>&#xA;&lt;/installation-directive>"/>
  <attributes xsi:type="com.novell.designer.model:CLong" attrName="Idm:DirectiveChecksum" value="1119592867"/>
  <attributes xsi:type="com.novell.designer.model:CString" attrName="Idm:PackageAssocGuid" value="MFIS2RLD_201109091540440812"/>
  <attributes xsi:type="com.novell.designer.model:CString" attrName="Idm:PackageGuid" value="8UMZJFVS_201109091540440796"/>
  <attributes xsi:type="com.novell.designer.model:CLong" attrName="Idm:ContentChecksum" value="3500728023"/>
</com.novell.designer.model:CObject>
