<?xml version="1.0" encoding="utf-8"?>
<com.novell.designer.model:CObject xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:com.novell.designer.model="http://com.novell.designer.model" name="NOVLJDBCPGBS-RemoteLoaderPrompts">
  <attributes xsi:type="com.novell.designer.model:CHeavyData" attrName="contents"/>
  <attributes xsi:type="com.novell.designer.model:CString" attrName="DirXML-ContentType" value="application/vnd.novell.dirxml.pkg-prompt+xml"/>
  <attributes xsi:type="com.novell.designer.model:CInteger" attrName="Idm:PkgPromptType" value="4"/>
  <attributes xsi:type="com.novell.designer.model:CString" attrName="Idm:InstallationDirective" value="&lt;installation-directive>&#xA;&#x9;&lt;placement location=&quot;&quot; order=&quot;30&quot;/>&#xA;&#x9;&lt;ds-attributes/>&#xA;&#x9;&lt;package-item-targets>&#xA;&#x9;&#x9;&lt;package-item package-id=&quot;8UMZJFVS_201109091540440796&quot; pkg-assoc-id=&quot;&quot;/>&#xA;&#x9;&lt;/package-item-targets>&#xA;&#x9;&lt;prompt-stylesheet>&#xA;&#x9;&#x9;&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;>&#xA;&#x9;&#x9;&#x9;&lt;!--&#xA;&#x9;Remote Loader - Prompt Style Sheet&#xA;&#x9;==================================&#xA;&#x9;&#xA;&#x9;This style sheet handles the special Remote Loader configuration prompts.&#xA;&#x9;It also works in combination with the initial settings style&#xA;&#x9;sheets to correctly overload the shim-auth-server and the &#xA;&#x9;shim-auth-password with the remote loader parameters and password.&#xA;&#x9;&#xA;&#x9;This style sheet is applied to the XML representation of the prompts&#xA;&#x9;(GCV's) for this prompt resource before the prompts are displayed for&#xA;&#x9;input.&#xA;&#x9;&#xA;&#x9;Updated: 20100915&#xA;&#x9;-->&#xA;&#x9;&#x9;&#x9;&lt;!--&#xA;&#x9;defsDoc&#xA;&#x9;=======&#xA;&#x9;XML document containing the prompts (configuration value definitions)&#xA;&#x9;including their values that were entered for this prompt page.&#xA;&#x9;&#xA;&#x9;Sample document:&#xA;&#x9;&lt;configuration-values>&#xA;&#x9;&#x9;&lt;definitions>&#xA;&#x9;&#x9;&#x9;&lt;header display-name=&quot;Authentication&quot;/>&#xA;&#x9;&#x9;&#x9;&lt;definition display-name=&quot;SAP User ID&quot; mandatory=&quot;true&quot; name=&quot;shim-auth-id&quot; type=&quot;string&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;description>The ID of the User this driver will use for SAP Logon.  This is referred to as 'User' in the SAP Logon screen.&lt;/description>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;value>idmdriver&lt;/value>&#xA;&#x9;&#x9;&#x9;&lt;/definition>&#xA;&#x9;&#x9;&#x9;&lt;definition display-name=&quot;SAP User Password&quot; mandatory=&quot;true&quot; name=&quot;shim-auth-password&quot; type=&quot;password-ref&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;description>The User password this driver will use for SAP Logon.  This is referred to as 'Password' in the SAP Logon screen.&lt;/description>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;value>shim-auth-password&lt;/value>&#xA;&#x9;&#x9;&#x9;&lt;/definition>&#xA;&#x9;&#x9;&lt;/definitions>&#xA;&#x9;&lt;/configuration-values>&#xA;&#x9;-->&#xA;&#x9;&#x9;&#x9;&lt;xsl:param name=&quot;defsDoc&quot;/>&#xA;&#x9;&#x9;&#x9;&lt;!--&#xA;&#x9;curDoc&#xA;&#x9;======&#xA;&#x9;In the case of an upgrade or downgrade, this parameter contains the XML&#xA;&#x9;content of the currently installed prompt target.&#xA;&#x9;&#xA;&#x9;Sample document (only an excerpt, these docs are rather large):&#xA;&#x9;&lt;ds-attributes>&#xA;&#x9;&#x9;&lt;ds-attribute ds-attr-name=&quot;shim-auth-id&quot;>&#xA;&#x9;&#x9;&#x9;&lt;ds-value>idmdriver&lt;/ds-value>&#xA;&#x9;&#x9;&lt;/ds-attribute>&#xA;&#x9;&#x9;&lt;ds-attribute ds-attr-name=&quot;shim-auth-server&quot;>&#xA;&#x9;&#x9;&#x9;&lt;ds-value>127.0.0.1&lt;/ds-value>&#xA;&#x9;&#x9;&lt;/ds-attribute>&#xA;&#x9;&#x9;&lt;ds-attribute ds-attr-name=&quot;driver-start-option&quot;>&#xA;&#x9;&#x9;&#x9;&lt;ds-value>2&lt;/ds-value>&#xA;&#x9;&#x9;&lt;/ds-attribute>&#xA;&#x9;&lt;/ds-attributes>&#xA;&#x9;-->&#xA;&#x9;&#x9;&#x9;&lt;xsl:param name=&quot;curDoc&quot;/>&#xA;&#x9;&#x9;&#x9;&lt;!--&#xA;&#x9;npDoc&#xA;&#x9;=====&#xA;&#x9;In the case of an upgrade or downgrade, this parameter contains an XML&#xA;&#x9;representation of all named password available on the prompt target.&#xA;&#x9;&#xA;&#x9;Note:&#xA;&#x9;Only the names of existing passwords are available, not their values. If a&#xA;&#x9;named password has been set through a prompt, both its&#x9;name and value are&#xA;&#x9;available.&#xA;&#x9;&#xA;&#x9;Note2:&#xA;&#x9;To set a named password, append the following structure to the target&#xA;&#x9;(target must support named passwords):&#xA;&#x9;&lt;ds-attribute ds-attr-name=&quot;named-password&quot;>&#xA;&#x9;&#x9;&lt;ds-value display-name=&quot;Password 1&quot; name=&quot;pwd1&quot;>1&lt;/ds-value>&#xA;&#x9;&#x9;&lt;ds-value display-name=&quot;Password 2&quot; name=&quot;pwd2&quot;>2&lt;/ds-value>&#xA;&#x9;&lt;/ds-attribute>&#xA;&#x9;&#xA;&#x9;Sample document:&#xA;&#x9;&lt;named-passwords>&#xA;&#x9;&#x9;&lt;named-password name=&quot;promptedPwd&quot;>promptedValue&lt;/named-password>&#xA;&#x9;&#x9;&lt;named-password name=&quot;existingPwd&quot;/>&#xA;&#x9;&lt;/named-passwords>&#xA;&#x9;-->&#xA;&#x9;&#x9;&#x9;&lt;xsl:param name=&quot;npDoc&quot;/>&#xA;&#x9;&#x9;&#x9;&lt;!-- &#xA;&#x9;propertyWizard&#xA;&#x9;==============&#xA;&#x9;Flag (true or false) indicating if the installation is from the package&#xA;&#x9;installation wizard (PIW, launched from the &quot;Packages&quot; property page) or&#xA;&#x9;from the driver configuration wizard (DCW, launched by installing a new&#xA;&#x9;driver). This flag can be useful to show or hide prompts or to set or not&#xA;&#x9;set values based on which wizard is being run.&#xA;&#x9;&#xA;&#x9;E.g. the driver name should only be prompted for in the DCW, not in the&#xA;&#x9;PIW where the driver already exists.&#xA;&#x9;&#xA;&#x9;Possible values:&#xA;&#x9;'true' -> PIW&#xA;&#x9;'false' -> DCW&#xA;&#x9;-->&#xA;&#x9;&#x9;&#x9;&lt;xsl:param name=&quot;propertyWizard&quot;/>&#xA;&#x9;&#x9;&#x9;&lt;!-- identity transformation template -->&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;definition[@name='use-remote-loader']/value&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;shimAuthServer&quot; select=&quot;$curDoc//ds-value[../@ds-attr-name='shim-auth-server']/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- use remote loader if the driver is already configured to use the remote loader -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;starts-with($shimAuthServer, 'REMOTE(')&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;value>true&lt;/value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- don't use remote loader if the driver is not configured to use the remote loader -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;string-length($shimAuthServer)>0&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;value>false&lt;/value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- if we can't tell, use the prompt default setting -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:apply-templates select=&quot;@*|node()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;definition[@name='rl-hostname']/value&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;shimAuthServer&quot; select=&quot;$curDoc//ds-value[../@ds-attr-name='shim-auth-server']/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;starts-with($shimAuthServer, 'REMOTE(')&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;hostName&quot; select=&quot;translate(substring-before(substring-after($shimAuthServer, 'REMOTE(hostname='), ' '), ' ', '')&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$hostName&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:apply-templates select=&quot;@*|node()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;definition[@name='rl-port']/value&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;shimAuthServer&quot; select=&quot;$curDoc//ds-value[../@ds-attr-name='shim-auth-server']/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;starts-with($shimAuthServer, 'REMOTE(')&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;port&quot; select=&quot;translate(substring-before(substring-after($shimAuthServer, 'port='), ')'), ' ', '')&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$port&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:apply-templates select=&quot;@*|node()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;definition[@name='rl-password']/value&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;shimAuthPwd&quot; select=&quot;$curDoc//ds-value[../@ds-attr-name='shim-auth-password']/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;starts-with($shimAuthPwd, 'REMOTE(')&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;rlPwd&quot; select=&quot;substring-before(substring-after($shimAuthPwd, 'REMOTE('), ')')&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$rlPwd&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;value/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;node()|@*&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:apply-templates select=&quot;@*|node()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&lt;/xsl:stylesheet>&#xA;&#x9;&lt;/prompt-stylesheet>&#xA;&#x9;&lt;target-stylesheet>&#xA;&#x9;&#x9;&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;>&#xA;&#x9;&#x9;&#x9;&lt;!--&#xA;&#x9;Remote Loader - Target Style Sheet&#xA;&#x9;==================================&#xA;&#x9;&#xA;&#x9;This style sheet handles the special Remote Loader configuration prompts.&#xA;&#x9;It also works in combination with the initial settings style&#xA;&#x9;sheets to correctly overload the shim-auth-server and the &#xA;&#x9;shim-auth-password with the remote loader parameters and password.&#xA;&#x9;&#xA;&#x9;The target style sheet is applied to the XML representation of each target&#xA;&#x9;of its prompt resource before the package is being installed, thus&#xA;&#x9;changing what's being installed.&#xA;&#x9;&#xA;&#x9;Updated: 20100812&#xA;&#x9;-->&#xA;&#x9;&#x9;&#x9;&lt;!--&#xA;&#x9;defsDoc&#xA;&#x9;=======&#xA;&#x9;XML document containing the prompts (configuration value definitions)&#xA;&#x9;including their values that were entered for this prompt page.&#xA;&#x9;&#xA;&#x9;Sample document:&#xA;&#x9;&lt;configuration-values>&#xA;&#x9;&#x9;&lt;definitions>&#xA;&#x9;&#x9;&#x9;&lt;header display-name=&quot;Authentication&quot;/>&#xA;&#x9;&#x9;&#x9;&lt;definition display-name=&quot;SAP User ID&quot; mandatory=&quot;true&quot; name=&quot;shim-auth-id&quot; type=&quot;string&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;description>The ID of the User this driver will use for SAP Logon.  This is referred to as 'User' in the SAP Logon screen.&lt;/description>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;value>idmdriver&lt;/value>&#xA;&#x9;&#x9;&#x9;&lt;/definition>&#xA;&#x9;&#x9;&#x9;&lt;definition display-name=&quot;SAP User Password&quot; mandatory=&quot;true&quot; name=&quot;shim-auth-password&quot; type=&quot;password-ref&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;description>The User password this driver will use for SAP Logon.  This is referred to as 'Password' in the SAP Logon screen.&lt;/description>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;value>shim-auth-password&lt;/value>&#xA;&#x9;&#x9;&#x9;&lt;/definition>&#xA;&#x9;&#x9;&lt;/definitions>&#xA;&#x9;&lt;/configuration-values>&#xA;&#x9;-->&#xA;&#x9;&#x9;&#x9;&lt;xsl:param name=&quot;defsDoc&quot;/>&#xA;&#x9;&#x9;&#x9;&lt;!--&#xA;&#x9;curDoc&#xA;&#x9;======&#xA;&#x9;In the case of an upgrade or downgrade, this parameter contains the XML&#xA;&#x9;content of the currently installed prompt target.&#xA;&#x9;&#xA;&#x9;Sample document (only an excerpt, these docs are rather large):&#xA;&#x9;&lt;ds-attributes>&#xA;&#x9;&#x9;&lt;ds-attribute ds-attr-name=&quot;shim-auth-id&quot;>&#xA;&#x9;&#x9;&#x9;&lt;ds-value>idmdriver&lt;/ds-value>&#xA;&#x9;&#x9;&lt;/ds-attribute>&#xA;&#x9;&#x9;&lt;ds-attribute ds-attr-name=&quot;shim-auth-server&quot;>&#xA;&#x9;&#x9;&#x9;&lt;ds-value>127.0.0.1&lt;/ds-value>&#xA;&#x9;&#x9;&lt;/ds-attribute>&#xA;&#x9;&#x9;&lt;ds-attribute ds-attr-name=&quot;driver-start-option&quot;>&#xA;&#x9;&#x9;&#x9;&lt;ds-value>2&lt;/ds-value>&#xA;&#x9;&#x9;&lt;/ds-attribute>&#xA;&#x9;&lt;/ds-attributes>&#xA;&#x9;-->&#xA;&#x9;&#x9;&#x9;&lt;xsl:param name=&quot;curDoc&quot;/>&#xA;&#x9;&#x9;&#x9;&lt;!--&#xA;&#x9;npDoc&#xA;&#x9;=====&#xA;&#x9;In the case of an upgrade or downgrade, this parameter contains an XML&#xA;&#x9;representation of all named password available on the prompt target.&#xA;&#x9;&#xA;&#x9;Note:&#xA;&#x9;Only the names of existing passwords are available, not their values. If a&#xA;&#x9;named password has been set through a prompt, both its&#x9;name and value are&#xA;&#x9;available.&#xA;&#x9;&#xA;&#x9;Note2:&#xA;&#x9;To set a named password, append the following structure to the target&#xA;&#x9;(target must support named passwords):&#xA;&#x9;&lt;ds-attribute ds-attr-name=&quot;named-password&quot;>&#xA;&#x9;&#x9;&lt;ds-value display-name=&quot;Password 1&quot; name=&quot;pwd1&quot;>1&lt;/ds-value>&#xA;&#x9;&#x9;&lt;ds-value display-name=&quot;Password 2&quot; name=&quot;pwd2&quot;>2&lt;/ds-value>&#xA;&#x9;&lt;/ds-attribute>&#xA;&#x9;&#xA;&#x9;Sample document:&#xA;&#x9;&lt;named-passwords>&#xA;&#x9;&#x9;&lt;named-password name=&quot;promptedPwd&quot;>promptedValue&lt;/named-password>&#xA;&#x9;&#x9;&lt;named-password name=&quot;existingPwd&quot;/>&#xA;&#x9;&lt;/named-passwords>&#xA;&#x9;-->&#xA;&#x9;&#x9;&#x9;&lt;xsl:param name=&quot;npDoc&quot;/>&#xA;&#x9;&#x9;&#x9;&lt;!-- &#xA;&#x9;propertyWizard&#xA;&#x9;==============&#xA;&#x9;Flag (true or false) indicating if the installation is from the package&#xA;&#x9;installation wizard (PIW, launched from the &quot;Packages&quot; property page) or&#xA;&#x9;from the driver configuration wizard (DCW, launched by installing a new&#xA;&#x9;driver). This flag can be useful to show or hide prompts or to set or not&#xA;&#x9;set values based on which wizard is being run.&#xA;&#x9;&#xA;&#x9;E.g. the driver name should only be prompted for in the DCW, not in the&#xA;&#x9;PIW where the driver already exists.&#xA;&#x9;&#xA;&#x9;Possible values:&#xA;&#x9;'true' -> PIW&#xA;&#x9;'false' -> DCW&#xA;&#x9;-->&#xA;&#x9;&#x9;&#x9;&lt;xsl:param name=&quot;propertyWizard&quot;/>&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;ds-attribute[@ds-attr-name='driver-password']&quot;/>&#xA;&#x9;&#x9;&#x9;&lt;!-- Remove the native module if we are running remote -->&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;ds-attribute[@ds-attr-name='native-module']&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;useRemoteLoader&quot; select=&quot;$defsDoc//definition[@name='use-remote-loader']/value/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:if test=&quot;$useRemoteLoader='false'&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:apply-templates select=&quot;@*|node()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:if>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;!-- Replace the java module with the remote shim if we are running remote -->&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;ds-attribute[@ds-attr-name='java-module']/ds-value/text()&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;useRemoteLoader&quot; select=&quot;$defsDoc//definition[@name='use-remote-loader']/value/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;$useRemoteLoader='true'&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;'com.novell.nds.dirxml.remote.driver.DriverShimImpl'&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;.&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;ds-attributes&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;useRemoteLoader&quot; select=&quot;$defsDoc//definition[@name='use-remote-loader']/value/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;rlHost&quot; select=&quot;$defsDoc//definition[@name='rl-hostname']/value/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;rlPort&quot; select=&quot;$defsDoc//definition[@name='rl-port']/value/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;rlPwd&quot; select=&quot;$npDoc//named-password[@name='rl-password']/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:apply-templates select=&quot;@*|node()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:if test=&quot;$useRemoteLoader='true'&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- inject the driver password if running remote -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:for-each select=&quot;$npDoc//named-passwords/named-password[@name='driver-password']/text()&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;ds-attribute ds-attr-name=&quot;driver-password&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;ds-value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;.&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/ds-value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/ds-attribute>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:for-each>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- Add a java module attribute node if one does not exist -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;ds-attribute[@ds-attr-name='java-module']&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!--  Do nothing -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;ds-attribute ds-attr-name=&quot;java-module&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;ds-value>com.novell.nds.dirxml.remote.driver.DriverShimImpl&lt;/ds-value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/ds-attribute>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:if test=&quot;$rlHost&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- Add a shim-auth-server attribute node if one does not exist -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;ds-attribute[@ds-attr-name='shim-auth-server']/ds-value/text()&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!--  Do nothing -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;ds-attribute ds-attr-name=&quot;shim-auth-server&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;ds-value>REMOTE(hostname=&lt;xsl:value-of select=&quot;$rlHost&quot;/> port=&lt;xsl:value-of select=&quot;$rlPort&quot;/>)&lt;/ds-value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/ds-attribute>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:if>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:if test=&quot;$rlPwd&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!-- Add a shim-auth-password attribute node if one does not exist -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;ds-attribute[@ds-attr-name='shim-auth-password']/ds-value/text()&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;!--  Do nothing -->&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;ds-attribute ds-attr-name=&quot;shim-auth-password&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;ds-value>REMOTE(&lt;xsl:value-of select=&quot;$rlPwd&quot;/>)&lt;/ds-value>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/ds-attribute>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:if>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:if>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;!-- Fix up shim-auth-server if running remote and one already exists -->&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;ds-attribute[@ds-attr-name='shim-auth-server']/ds-value/text()&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;useRemoteLoader&quot; select=&quot;$defsDoc//definition[@name='use-remote-loader']/value/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;rlHost&quot; select=&quot;$defsDoc//definition[@name='rl-hostname']/value/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;rlPort&quot; select=&quot;$defsDoc//definition[@name='rl-port']/value/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;$useRemoteLoader='true'&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;curVal&quot; select=&quot;.&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;tmpVal&quot; select=&quot;concat(concat('REMOTE(hostname=', $rlHost), ' port=')&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;remoteVal&quot; select=&quot;concat(concat($tmpVal, $rlPort), ')')&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;serverVal&quot; select=&quot;concat($remoteVal, $curVal)&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$serverVal&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;.&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;!-- Fix up shim-auth-password if running remote and one already exists -->&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;ds-attribute[@ds-attr-name='shim-auth-password']/ds-value/text()&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;useRemoteLoader&quot; select=&quot;$defsDoc//definition[@name='use-remote-loader']/value/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;rlPwd&quot; select=&quot;$npDoc//named-password[@name='rl-password']/text()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:choose>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:when test=&quot;$useRemoteLoader='true'&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;curVal&quot; select=&quot;.&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;remoteVal&quot; select=&quot;concat(concat('REMOTE(', $rlPwd), ')')&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:variable name=&quot;pwdVal&quot; select=&quot;concat($remoteVal, $curVal)&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$pwdVal&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:when>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;.&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:otherwise>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:choose>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&#x9;&lt;!-- identity transformation template -->&#xA;&#x9;&#x9;&#x9;&lt;xsl:template match=&quot;node()|@*&quot;>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;xsl:copy>&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:apply-templates select=&quot;@*|node()&quot;/>&#xA;&#x9;&#x9;&#x9;&#x9;&lt;/xsl:copy>&#xA;&#x9;&#x9;&#x9;&lt;/xsl:template>&#xA;&#x9;&#x9;&lt;/xsl:stylesheet>&#xA;&#x9;&lt;/target-stylesheet>&#xA;&lt;/installation-directive>"/>
  <attributes xsi:type="com.novell.designer.model:CLong" attrName="Idm:DirectiveChecksum" value="1846756533"/>
  <attributes xsi:type="com.novell.designer.model:CString" attrName="Idm:PackageAssocGuid" value="WZ9PEJ72_201109091540440812"/>
  <attributes xsi:type="com.novell.designer.model:CString" attrName="Idm:PackageGuid" value="8UMZJFVS_201109091540440796"/>
  <attributes xsi:type="com.novell.designer.model:CLong" attrName="Idm:ContentChecksum" value="2018415834"/>
</com.novell.designer.model:CObject>
